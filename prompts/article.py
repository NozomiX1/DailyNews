"""
Article Summary Prompt

Prompt for summarizing WeChat Official Account articles.
"""
from .base import BasePrompt


class ArticlePrompt(BasePrompt):
    """Prompt for summarizing WeChat articles."""

    def get_system_prompt(self) -> str:
        return """‰Ω†ÊòØ‰∏Ä‰ΩçËµÑÊ∑±ÁöÑ AI Ë°å‰∏öÂàÜÊûêÂ∏àÔºåÊìÖÈïøÂø´ÈÄü‰ªéÊµ∑ÈáèËµÑËÆØ‰∏≠ÊèêÁÇºÊ†∏ÂøÉ‰ª∑ÂÄº„ÄÇ

‰Ω†ÁöÑ‰ªªÂä°ÊòØÂàÜÊûê‰∏ÄÁØáÂÖ¨‰ºóÂè∑ÊñáÁ´†ÔºåÁîüÊàêÁªìÊûÑÂåñÊëòË¶Å„ÄÇ

**ÈáçË¶ÅË¶ÅÊ±Ç**Ôºö
1. ÂøÖÈ°ªËøîÂõûÁ∫Ø JSON Ê†ºÂºèÔºå‰∏çË¶ÅÂåÖÂê´‰ªª‰ΩïÂÖ∂‰ªñÊñáÂ≠ó
2. JSON ÂøÖÈ°ªÂåÖÂê´ÊâÄÊúâÂøÖÈúÄÂ≠óÊÆµ
3. ÊëòË¶ÅË¶ÅÁÆÄÊ¥ÅÊúâÂäõÔºå3-5Âè•ËØùÂç≥ÂèØ"""

    def get_user_prompt_template(self) -> str:
        return """ËØ∑ÂàÜÊûê‰ª•‰∏ãÊñáÁ´†ÔºåËøîÂõû JSON Ê†ºÂºèÔºö

{{
  "title": "ÈáçÊñ∞ÁîüÊàêÁöÑÊ†áÈ¢òÔºàÂÆ¢ËßÇ„ÄÅÁÆÄÊ¥ÅÔºâ",
  "tags": ["Ê†áÁ≠æ1", "Ê†áÁ≠æ2"],  // Â¶ÇÔºö["ÂèëÂ∏É", "ÊäÄÊúØ", "Á†îÁ©∂"]
  "summary": "3-5Âè•ËØùÊëòË¶ÅÔºåÊèêÂèñÊ†∏ÂøÉ‰∫ã‰ª∂„ÄÅÂÖ≥ÈîÆ‰ø°ÊÅØ„ÄÅÂΩ±ÂìçÂà§Êñ≠",
  "score": 1-5,  // ËØÑÂàÜÊ†áÂáÜËßÅ‰∏ãÊñπË°®Ê†º
  "is_ad": false  // ÊòØÂê¶‰∏∫ÂπøÂëä/ËΩØÊñá
}}

**ËØÑÂàÜÊ†áÂáÜ**Ôºà‰∏•Ê†ºÈÅµÂÆàÔºâÔºö
| ËØÑÂàÜ | ÂÆö‰πâ | ÂÖ∏ÂûãÁâπÂæÅ |
|------|------|----------|
| üåü | Âô™Èü≥/ËΩØÂπø | buzzwordÂ†ÜÁ†å„ÄÅÊó†Âπ≤Ë¥ß„ÄÅÈáçÂ§çÊê¨ËøêÔºàÈÄöÂ∏∏Âà†Èô§Ôºâ |
| üåüüåü | Âø´ËÆØ/ÁÆÄÊä• | ‰∫ßÂìÅÂèëÂ∏É„ÄÅÁÆÄÂçïÂèÇÊï∞ÂØπÊØî„ÄÅÁº∫‰πèÊ∑±Â∫¶ÂàÜÊûêÔºàÂç†ÊØîÊúÄÈ´òÔºâ |
| üåüüåüüåü | ÂÆûÁî®/ÁßëÊôÆ | ÂÆåÊï¥ËØÑÊµã„ÄÅÊïôÁ®ã„ÄÅÊ∏ÖÊô∞Ê¶ÇÂøµËß£ÈáäÔºàËæÉÂ§öÔºâ |
| üåüüåüüåüüåü | Ê∑±Â∫¶/Ê¥ûÂØü | Ê∫êÁ†ÅËß£Êûê„ÄÅÊû∂ÊûÑ‰ºòÂåñ„ÄÅÂ∑•Á®ãË∏©ÂùëÂ§çÁõòÔºàÁ®ÄÂ∞ëÔºâ |
| üåüüåüüåüüåüüåü | ÂÖ∏Ëóè/ÁÅØÂ°î | Â•†Âü∫ÊÄßÂàõÊñ∞ÔºàTransformerÁ∫ßÂà´ÔºåÊûÅÂÖ∂ÁΩïËßÅÔºâ |

**ËØÑÂàÜÂéüÂàô**Ôºö
- 5üåüÔºöÊØèÊó• 0-1 ÁØáÔºåÊûÅÂÖ∂‰øùÂÆà
- 4üåüÔºöÊØèÊó• 2-3 ÁØá
- 3üåüÔºöÊØèÊó• 5-8 ÁØá
- 2üåüÔºöÊúÄÂ§ö
- 1üåüÔºöÂπøÂëä/Âô™Èü≥ÔºåÊ†áËÆ∞ is_ad=true

ÊñáÁ´†ÂÜÖÂÆπÔºö
{content}

Ê†áÁ≠æÂª∫ËÆÆÔºö
- ÂèëÂ∏ÉÔºö‰∫ßÂìÅÂèëÂ∏É„ÄÅÊ®°ÂûãÂèëÂ∏É
- ÊäÄÊúØÔºöÊäÄÊúØÁªÜËäÇ„ÄÅÊû∂ÊûÑÂàÜÊûê
- Á†îÁ©∂ÔºöËÆ∫ÊñáËß£ËØª„ÄÅÁ†îÁ©∂ÊàêÊûú
- Ë°å‰∏öÔºöË°å‰∏öÂä®ÊÄÅ„ÄÅËûçËµÑÊ∂àÊÅØ
- ÊïôÁ®ãÔºö‰ΩøÁî®ÊïôÁ®ã„ÄÅÂÆûË∑µÊåáÂçó
- ËØÑÊµãÔºö‰∫ßÂìÅËØÑÊµã„ÄÅÂØπÊØîÊµãËØï

ËØ∑Âè™ËøîÂõû JSONÔºå‰∏çË¶ÅÂåÖÂê´‰ªª‰ΩïËß£ÈáäÊÄßÊñáÂ≠ó„ÄÇ"""

    def format_prompt_with_metadata(self, title: str, content: str, source: str = "", url: str = "") -> str:
        """
        Format prompt with article metadata.

        Args:
            title: Article title
            content: Article content
            source: Article source
            url: Article URL

        Returns:
            Formatted prompt string
        """
        full_content = f"Ê†áÈ¢òÔºö{title}\n"
        if source:
            full_content += f"Êù•Ê∫êÔºö{source}\n"
        if url:
            full_content += f"ÈìæÊé•Ôºö{url}\n"
        full_content += f"\n{content}"

        return self.format_prompt(content=full_content)
